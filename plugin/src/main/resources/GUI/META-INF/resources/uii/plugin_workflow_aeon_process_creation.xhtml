<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:p="http://primefaces.org/ui"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

    <composite:interface>
    </composite:interface>

    <composite:implementation>

    <style>
.form-control.invalid {
    border: 1px solid #E8860C;
}

.form-control.invalid.strict {
    border-color: #ff4433;
}

.form-control.differFromDefault {
    border: 1px solid #368ee0;
}

.warning-icon {
    position: absolute;
    right: 2px;
    top: 1px;
    background: #E8860C;
    padding: 2px;
    border-radius: 50%;
    width: 16px;
    height: 16px;
    text-align: center;
    color: white;
}

.warning-icon.error {
    background: #ff4433;
}

.warning-icon.check {
    background: #368ee0;
    padding: 2px;
    font-size: 10px;
}

.validation-message {
    color: #E8860C;
    padding-top: 5px;
}

.font-danger.validation-message {
    color: #ff4433;
}

.fa-toggle-on.color-creation {
    color: white;
}

.fa-angle-up.accepted {
    color: white;
}

.fa-angle-down.accepted {
    color: white;
}

.fa-toggle-on.color-deletion {
    color: white;
}

.fa-toggle-on.bcolor-creation {
    color: green;
}
.fa-toggle-on.bcolor-deletion {
    color: #E51400;
}

.border-creation {
    border-color: green !important;
    background-color: green !important;
}

.border-deletion {
    border-color: #E51400 !important;
    background-color: #E51400;
}

.border-unselect {
    border-color: #666 !important;
}

.btn.toggle {
    background: none;
}

input[type="radio"] {
    margin-left: 5px;
    margin-right: 5px;
}

.greybackground {
   background-color: #eee;
}
</style>


        <h:panelGroup rendered="#{!LoginForm.hasRole('Plugin_workflow_aeon_process_creation')}">
            <h:outputText
                styleClass="alert alert-danger alert-dismissable margin-bottom-10 margin-top-10"
                value="#{msgs.plugin_administration_missingPermission} Plugin_workflow_aeon_process_creation" />
        </h:panelGroup>
        <h:panelGroup rendered="#{LoginForm.hasRole('Plugin_workflow_aeon_process_creation') and NavigationForm.workflowPlugin.screenName == 'request'}">
            <div class="row">
                <div class="col-sm-6">
                    <!--  Transaction Request input Box  -->
                    <div class="box box-color box-bordered">
                        <div class="box-title">
                            <h3>
                                <h:outputText value="#{msgs.plugin_workflow_aeon_requestAeonForTransaction}" />
                            </h3>
                        </div>
                        <div class="box-content">
                            <h:form id="requestForm">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <h:outputLabel
                                                styleClass="control-label"
                                                value="#{msgs.plugin_workflow_aeon_selectType}:" />
                                        </div>
                                        <div class="col-sm-9">
                                            <h:selectOneRadio
                                                id="typeSelection"
                                                value="#{NavigationForm.workflowPlugin.operationType}"
                                                styleClass="inline-table focusableChild"
                                                disabledClass="margin-right-10"
                                                enabledClass="margin-right-10">
                                                <f:selectItem
                                                    pt:styleClass="focusable"
                                                    itemLabel="#{msgs.plugin_workflow_aeon_processCreation}"
                                                    itemValue="creation" />
                                                <f:selectItem
                                                    itemClass="focusable"
                                                    itemLabel="#{msgs.plugin_workflow_aeon_processCancellation}"
                                                    itemValue="cancel" />
                                                <f:ajax
                                                    render="requestForm"
                                                    execute="@this" />
                                            </h:selectOneRadio>
                                        </div>
                                    </div>
                                </div>




                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <h:outputLabel
                                                styleClass="control-label "
                                                value="#{msgs.plugin_workflow_aeon_transactionIdentifier}:" />
                                        </div>
                                        <div class="col-sm-9">
                                            <x:inputText
                                                pt:aria-label="#{msgs.plugin_workflow_aeon_transactionIdentifier}"
                                                styleClass="form-control"
                                                value="#{NavigationForm.workflowPlugin.input}" />
                                        </div>
                                    </div>
                                </div>

                                <div
                                    class="form-group"
                                    jsf:rendered="#{NavigationForm.workflowPlugin.operationType == 'creation'}">
                                    <div class="row">

                                        <div class="col-sm-3">
                                            <h:outputLabel
                                                for="field02"
                                                styleClass="control-label"
                                                value="#{msgs.prozessvorlage}" />
                                        </div>
                                        <div class="col-sm-9">
                                            <h:selectOneMenu
                                                id="field02"
                                                value="#{NavigationForm.workflowPlugin.selectedWorkflow}"
                                                styleClass="form-control">
                                                <f:ajax
                                                    event="change"
                                                    render="@this" />
                                                <f:selectItems
                                                    value="#{NavigationForm.workflowPlugin.possibleWorkflows}"
                                                    var="var"
                                                    itemLabel="#{var}"
                                                    itemValue="#{var}" />
                                            </h:selectOneMenu>
                                        </div>

                                    </div>
                                </div>
                                <div class="pull-right">
                                    <button
                                        jsf:id="cancel"
                                        class="btn margin-right-10 font-size-s"
                                        jsf:action="#{NavigationForm.workflowPlugin.resetRequest}">#{msgs.plugin_workflow_aeon_cancel}</button>
                                    <button
                                        jsf:id="sendRequest"
                                        class="btn btn-primary font-size-s"
                                        jsf:action="#{NavigationForm.workflowPlugin.sendRequest}">#{NavigationForm.workflowPlugin.operationType == 'creation' ? msgs.plugin_workflow_aeon_startRequest : msgs.plugin_workflow_aeon_cancelRequest}</button>
                                </div>
                            </h:form>
                        </div>
                    </div>

                    <!-- Transaction Details Box -->
                    <ui:include src="plugin_workflow_aeon_process_creation_include_transaction_details.xhtml" />

                    <!-- Edit Properties Box -->
                    <ui:include src="plugin_workflow_aeon_process_creation_include_properties.xhtml" />

                </div>
                <div class="col-sm-6">
                    <!-- Objects List -->
                    <ui:include src="plugin_workflow_aeon_process_creation_include_objects_list.xhtml" />
                </div>
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{LoginForm.hasRole('Plugin_workflow_aeon_process_creation') and NavigationForm.workflowPlugin.screenName == 'summary'}">
            <div class="row">
                <div class="col-sm-6">
                    <ui:include src="plugin_workflow_aeon_process_creation_include_created_objects_list.xhtml" />
                </div>
                <div class="col-sm-6">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="box box-color lightgrey box-bordered">
                                <div class="box-title">
                                    <h3>
                                        <i class="fa fa-tasks"></i>
                                        <h:outputText value="#{msgs.nextStep}" />
                                    </h3>
                                </div>
                                <h:form id="summaryForm">
                                    <div class="box-content">
                                        <ul class="action-ul">
                                            <li class="action-li">
                                                <button
                                                    jsf:id="dockets"
                                                    class="expandbutton"
                                                    jsf:action="#{NavigationForm.workflowPlugin.generateDockets}">
                                                    <span class="btn margin-right-10 fa fa-print fa-lg width-40" />
                                                    <h:outputText value="#{msgs.process_generateDocket}" />
                                                </button>
                                            </li>
                                            <li class="action-li">
                                                <button
                                                    jsf:id="startNewRequest"
                                                    class="expandbutton"
                                                    jsf:action="#{NavigationForm.workflowPlugin.resetRequest}">
                                                    <span class="btn margin-right-10 fa fa-file-o fa-lg width-40" />
                                                    <h:outputText value="#{msgs.plugin_workflow_aeon_startNewRequest}" />
                                                </button>



                                            </li>
                                        </ul>
                                    </div>

                                </h:form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </h:panelGroup>


    </composite:implementation>
</ui:composition>