<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:c="http://java.sun.com/jstl/core">

    <composite:interface>
    </composite:interface>

    <composite:implementation>
        <h:form
            id="myform"
            styleClass="form-horizontal form-bordered">
            <!-- transaction Details Box (NO REQUEST)
            <div
                jsf:rendered="#{NavigationForm.workflowPlugin.requestSuccess == false or NavigationForm.workflowPlugin.operationType != 'creation'}"
                class="box  thin-margin  lightgrey box-bordered">
                <div
                    class="box-title"
                    style="background-color: #eee;">
                    <h2 class="tableColumnMaxWidthExtraLong">#{msgs.plugin_workflow_aeon_requestedDetails}</h2>

                </div>
                <div class="box-content nopadding">

                    <div style="background-color: #eee; height: 250px;">
                        <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
                            <p>#{msgs.plugin_workflow_aeon_notRequestedYet}</p>
                        </div>
                    </div>
                </div>
            </div>
            -->

            <!-- transaction Details Box (REQUEST SENT)-->
            <div
                jsf:rendered="#{NavigationForm.workflowPlugin.requestSuccess and NavigationForm.workflowPlugin.operationType == 'creation'}"
                class="box box-color  lightgrey box-bordered">
                <div class="box-title">
                    <h2>#{msgs.plugin_workflow_aeon_requestedDetails}</h2>

                </div>
                <div class="box-content nopadding">
                    <x:dataList
                        value="#{NavigationForm.workflowPlugin.transactionFields}"
                        var="property">
                        <ui:fragment rendered="#{property.type == 'input' or property.type == 'input-dont-overwrite'}">
                            <h:panelGroup
                                layout="block"
                                styleClass="form-group"
                                id="group">
                                <div class="col-sm-3 control-label notFocusable">
                                    <h:outputLabel
                                        for="input"
                                        value="#{property.title}" />
                                </div>
                                <div class="col-sm-9">
                                    <x:inputText
                                        id="input"
                                        forceId="false"
                                        name="input"
                                        styleClass="form-control"
                                        value="#{property.value}"
                                        required="false"
                                        readonly="#{property.readonly}"
                                        >
                                        <f:ajax
                                            execute="@this"
                                            render="group"
                                            event="blur" />
                                    </x:inputText>
                                    <h:outputText
                                        styleClass="help-inline  #{property.strictValidation ? 'font-danger' : ''} alert"
                                        rendered="#{!property.valid}"
                                        value="#{property.validationErrorMessage}" />
                                    <h:outputText
                                        styleClass="help-block font-light"
                                        rendered="#{NavigationForm.showHelp}"
                                        value="#{property.helpMessage}" />
                                </div>
                            </h:panelGroup>
                        </ui:fragment>

                                <h:panelGroup
                                    layout="block"
                                    styleClass="form-group"
                                    rendered="#{property.type == 'radio' or property.type == 'radio-dont-overwrite'}">
                                    <div class="col-sm-3 control-label">
                                        <h:outputLabel
                                            for="radio"
                                            value="#{property.title}" />
                                    </div>
                                    <div class="col-sm-9">
<!--                                         <i -->
<!--                                             class="fa fa-info warning-icon" -->
<!--                                             jsf:rendered="#{!property.valid and !property.strictValidation}" /> -->
<!--                                         <i -->
<!--                                             class="fa fa-exclamation warning-icon error" -->
<!--                                             jsf:rendered="#{!property.valid and property.strictValidation}" /> -->
                                        <h:selectOneRadio
                                            id="radio"
                                            styleClass="#{!property.valid ? 'invalid' : ''} #{property.strictValidation ? 'strict' : ''}"
                                            value="#{property.value}">
                                            <f:ajax
                                                execute="@this"
                                                render="@all"
                                                event="change" />
                                            <f:selectItems
                                                value="#{property.selectValues}"
                                                var="var"
                                                itemLabel="#{var}"
                                                itemValue="#{var}" />
                                        </h:selectOneRadio>
                                        <h:message
                                            for="radio"
                                            showDetail="true"
                                            styleClass="help-inline font-danger" />
                                        <h:outputText
                                            styleClass="help-block font-light"
                                            rendered="#{NavigationForm.showHelp}"
                                            value="#{property.helpMessage}" />
                                    </div>
                                </h:panelGroup>


                        <intranda:formInputDropDownAjax
                            name="dropdown"
                            rendered="#{property.type == 'select' or property.type == 'vocabulary' or property.type == 'select-dont-overwrite'}"
                            label="#{property.title}"
                            field="#{property.value}"
                            help="#{property.helpMessage}"
                            selectItems="#{property.selectValues}"
                            fieldStyle="form-control"
                            readonly="#{property.readonly}"
                            required="false"
                            ajaxEvent="change"
                            ajaxRender="@this"
                            var="var"
                            itemLabel="#{var}"
                            itemValue="#{var}" />

                        <intranda:formInputCheckBoxAjax
                            name="checkbox"
                            rendered="#{property.type == 'checkbox'}"
                            label="#{property.title}"
                            field="#{property.value}"
                            help="#{property.helpMessage}"
                            fieldStyle="form-control"
                            readonly="#{property.readonly}"
                            required="false"
                            ajaxEvent="change"
                            ajaxRender="@this" />
                    </x:dataList>
                </div>
            </div>
        </h:form>
    </composite:implementation>
</ui:composition>